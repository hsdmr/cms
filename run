<?php

define('PATH', __DIR__);
define('DS', DIRECTORY_SEPARATOR);
$public_path = PATH . DS . 'public';
$npm_path = PATH . DS . 'resources' . DS . 'admin';
$migrates_path = PATH . DS . 'scripts' . DS;

switch ($argv[1]) {
  case 'serve':
    $exec = "(cd $public_path && php -S localhost:8000)";
    exec($exec, $result);
    break;

  case 'dev':
    $exec = "(cd $npm_path && npm run dev)";
    exec($exec, $result);
    break;

  case 'build':
    $exec = "(cd $npm_path && npm run build)";
    exec($exec, $result);
    break;

  case 'migrate':
    $exec = "(php " . $migrates_path . "migration.php)";
    exec($exec, $result);
    break;

  default:
    echo 'No argumant passed';
}
